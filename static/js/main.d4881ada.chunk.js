(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(t,e,a){t.exports=a(390)},216:function(t,e,a){},390:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(19),o=a.n(c),i=a(52),s=a(53),l=a(55),u=a(54),h=a(56),p=a(13),m=a(51),f=a.n(m),d=a(18),g=(a(216),a(136)),b=(a(218),Object(d.createMuiTheme)({palette:{type:"dark"},typography:{useNextVariants:!0}})),v=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={link:""},a}return Object(h.a)(e,t),Object(s.a)(e,[{key:"getImage",value:function(){var t=this;console.log(this.props.state),fetch("https://api.giphy.com/v1/stickers/search?q=".concat(this.props.state,"&api_key=1936869e122e403a81f81326f1de0cfa&limit=1")).then(function(t){return t.json()}).then(function(e){t.setState({link:e.data[0].images.downsized_medium.url})}).catch(function(t){console.log("Failed to fetch image : ".concat(t))})}},{key:"componentWillReceiveProps",value:function(){this.getImage()}},{key:"render",value:function(){var t=this.props.classes;return r.a.createElement(d.MuiThemeProvider,{theme:b},r.a.createElement(p.h,{className:t.root,elevation:1},r.a.createElement("div",{className:t.spacing},r.a.createElement(p.k,{variant:"h6",component:"h3"},this.props.title),this.props.curr?r.a.createElement(p.k,{variant:"h6",component:"h3"},this.props.curr," \xb0F"):null,this.props.high?r.a.createElement(p.k,{component:"p"},"Max: ",this.props.high," \xb0F"):null,this.props.low?r.a.createElement(p.k,{component:"p"},"Min :",this.props.low," \xb0F"):null),this.props.state?r.a.createElement("div",null,r.a.createElement(p.k,{variant:"h6",component:"h3"},this.props.state),r.a.createElement("img",{src:this.state.link,style:{height:"90px"}})):null))}}]),e}(r.a.Component),y=Object(d.withStyles)(function(t){return{root:Object(g.a)({},t.mixins.gutters(),{paddingTop:2*t.spacing.unit,paddingBottom:2*t.spacing.unit,height:"auto",width:"auto",margin:"1em",display:"flex"}),spacing:{flexGrow:1}}})(v),E=a(89),k=a(135),w=a.n(k);E.b.addAdapter(w.a);var j={0:"Sun",1:"Mon",2:"Tues",3:"Wends",4:"Thurs",5:"Fri",6:"Sat"},x=new Date,S=function(t){function e(){var t;return Object(i.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).handleChange=function(e){t.setState({zip:e.target.value})},t.state={currLocale:"...",currHigh:"",currTemp:"",currLow:"",currState:"...",zip:"",lat:0,longi:0,convert:0,left:!1,chartData:[{name:"Min",data:{1:50,2:20,3:5,4:55,5:40}},{name:"Max",data:{1:0,2:70,3:55,4:60,5:70}}],days:{}},t}return Object(h.a)(e,t),Object(s.a)(e,[{key:"subZip",value:function(){var t=this;fetch("https://api.openweathermap.org/data/2.5/weather?zip=".concat(this.state.zip,"&units=imperial&appid=81bf6ab8b40197439ba85fbc537fbaac")).then(function(t){return t.json()}).then(function(e){t.setState({currLocale:e.name+", "+e.sys.country,currTemp:e.main.temp,currHigh:e.main.temp_max,currLow:e.main.temp_min,currState:"There's "+e.weather[0].main+"."})}).catch(function(t){return console.log("ERR: Failed to fetch zip : ".concat(t))}),this.loadForecast(1,this.state.zip),this.setState({zip:""})}},{key:"getLocal",value:function(){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var a=e.coords.latitude,n=e.coords.longitude;fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(n,"&units=imperial&appid=81bf6ab8b40197439ba85fbc537fbaac")).then(function(t){return t.json()}).then(function(e){t.setState({currLocale:e.name+", "+e.sys.country,currTemp:e.main.temp,currHigh:e.main.temp_max,currLow:e.main.temp_min,currState:e.weather[0].main})}).catch(function(t){return console.log("ERR: ".concat(t))}),t.loadForecast(0,[a,n])})}},{key:"aniState",value:function(){}},{key:"loadForecast",value:function(t,e){var a=this;switch(t){case 0:fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e[0],"&lon=").concat(e[1],"&units=imperial&appid=81bf6ab8b40197439ba85fbc537fbaac")).then(function(t){return t.json()}).then(function(t){a.procData(t)}).catch(function(t){return console.log("ERR: Failed to fetch forecast : ".concat(t))});break;case 1:fetch("https://api.openweathermap.org/data/2.5/forecast?zip=".concat(e,"&units=imperial&appid=81bf6ab8b40197439ba85fbc537fbaac")).then(function(t){return t.json()}).then(function(t){a.procData(t)}).catch(function(t){return console.log("ERR: Failed to fetch forecast : ".concat(t))});break;default:console.log("defaulted or Error")}}},{key:"procData",value:function(t){var e=x.getDay()+1,a=[{},{}],n=x.getDate(),r=0,c=111,o=0,i={};for(var s in 6===e&&(e=0),t.list)parseInt(t.list[s].dt_txt[8]+t.list[s].dt_txt[9])!==n&&(7===r?(a[0][j[e]]=o,a[1][j[e]]=c,i[j[e]]=[o,c],c=111,o=0,e++,r=0):(t.list[s].main.temp>o&&(o=t.list[s].main.temp),t.list[s].main.temp<c&&(c=t.list[s].main.temp),r++));this.setState({chartData:[{name:"Min",data:a[1]},{name:"Max",data:a[0]}],days:i})}},{key:"componentWillMount",value:function(){this.getLocal()}},{key:"render",value:function(){var t=this,e=this.props.classes,a="";return a=x.getHours()>=11?"Good afternoon, ".concat(this.state.currLocale):"Good morning, ".concat(this.state.currLocale),r.a.createElement("div",null,r.a.createElement(p.a,{position:"static"},r.a.createElement(p.j,{color:"inherit",variant:"dense"},r.a.createElement(f.a,{onClick:function(){return t.setState({left:!0})},className:e.menuButton},r.a.createElement("span",{style:{color:"white"}},"\u2630")),r.a.createElement(p.c,{open:this.state.left,onClick:function(){return t.setState({left:!1})}},r.a.createElement(p.e,null,r.a.createElement(p.f,null,r.a.createElement(p.g,{style:{textDecoration:"underline"}},"React Weather App")),r.a.createElement(p.f,null,r.a.createElement(p.g,null,"Visit my website ",r.a.createElement("a",{href:"https://xavi55.github.io.",target:"_blank",rel:"noopener noreferrer"},"here"))),r.a.createElement(p.f,null,r.a.createElement(p.g,null,"Check out the old version ",r.a.createElement("a",{href:"https://xavi55.github.io/weatherApp",target:"_blank",rel:"noopener noreferrer"},"here"))),r.a.createElement(p.b,null),r.a.createElement(p.g,null,"Kevin Gamez - 2019"))),r.a.createElement(p.k,{className:e.spacing,color:"inherit"},a),r.a.createElement(p.i,{inputProps:{maxLength:5},className:"zip",color:"inherit",placeholder:"Enter a Zipcode...",value:this.state.zip,onChange:this.handleChange,onKeyDown:function(e){13===e.keyCode&&t.subZip()}}))),r.a.createElement("div",{className:"chart",style:{backgroundColor:"black"}},r.a.createElement(E.a,{legend:"left",ytitle:"Temperature",messages:{empty:"No data"},library:{scales:{yAxes:[{ticks:{fontColor:"#fff"},scaleLabel:{fontColor:"#fff"}}],xAxes:[{ticks:{fontColor:"#fff"}}]},title:{fontColor:"#fff"},label:{fontColor:"fff"}},data:this.state.chartData})),r.a.createElement(y,{className:e.curr,curr:this.state.currTemp,high:this.state.currHigh,low:this.state.currLow,state:this.state.currState,title:"Today's weather"}),r.a.createElement(p.d,{container:!0,justify:"center",spacing:0,className:e.forecast},Object.keys(this.state.days).map(function(e){return r.a.createElement(p.d,{item:!0,key:e},r.a.createElement(y,{title:e,high:t.state.days[e][0],low:t.state.days[e][1]}))})))}}]),e}(r.a.Component),C=Object(d.withStyles)({spacing:{flexGrow:1},menuButton:{marginLeft:-18,marginRight:10},curr:{height:"auto",width:"40%",margin:"1em"},forecast:{margin:"0 auto"}})(S);o.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[211,2,1]]]);
//# sourceMappingURL=main.d4881ada.chunk.js.map